(function(t){function n(n){for(var i,s,r=n[0],c=n[1],l=n[2],m=0,p=[];m<r.length;m++)s=r[m],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(n);while(p.length)p.shift()();return a.push.apply(a,l||[]),e()}function e(){for(var t,n=0;n<a.length;n++){for(var e=a[n],i=!0,r=1;r<e.length;r++){var c=e[r];0!==o[c]&&(i=!1)}i&&(a.splice(n--,1),t=s(s.s=e[0]))}return t}var i={},o={app:0},a=[];function s(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=i,s.d=function(t,n,e){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)s.d(e,i,function(n){return t[n]}.bind(null,i));return e},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=n,r=r.slice();for(var l=0;l<r.length;l++)n(r[l]);var u=c;a.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var i=e("85ec"),o=e.n(i);o.a},1:function(t,n){},2128:function(t,n,e){},"2e26":function(t,n,e){"use strict";var i=e("2128"),o=e.n(i);o.a},"359b":function(t,n,e){"use strict";var i=e("b527"),o=e.n(i);o.a},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("AppTemplate",{attrs:{applicationName:"Reverse shell dashboard"}})],1)},a=[],s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"application_wrapper"},[e("header",[e("span",{staticClass:"mdi navigation_control button",class:t.navigation_control_icon,on:{click:function(n){return t.toggle_navigation()}}}),e("img",{staticClass:"rotating_logo",attrs:{src:"https://cdn.maximemoreillon.com/logo/thick/logo.svg",alt:""}}),e("span",{staticClass:"application_name"},[t._v(t._s(t.applicationName))]),t.noLoginControls?t._e():e("span",{staticClass:"mdi mdi-logout aligned_right button",on:{click:function(n){return t.logout()}}})]),e("div",{staticClass:"columns_wrapper"},[t.navigation.length>0?e("nav",{class:{open:t.navigation_open}},t._l(t.navigation,(function(n,i){return e("router-link",{key:i,attrs:{to:n.route}},[e("span",{staticClass:"mdi",class:"mdi-"+n.icon,on:{click:function(n){return t.close_navigation()}}},[t._v(" "+t._s(n.label)+" ")])])})),1):t._e(),e("div",{staticClass:"nav_background",class:{visible:t.navigation_open},on:{click:function(n){return t.close_navigation()}}}),e("main",[e("router-view",{staticClass:"router_view"}),e("footer",[e("img",{staticClass:"rotating_logo",attrs:{src:"https://cdn.maximemoreillon.com/logo/thick/logo.svg",alt:""}}),e("div",{staticClass:"application_info"},[e("div",{staticClass:"application_name"},[t._v(t._s(t.applicationName))]),e("div",{staticClass:"author_name"},[t._v("Maxime MOREILLON")])])])],1)])])},r=[],c={name:"AppTemplate",props:{applicationName:{type:String},navigation:{type:Array,default:function(){return[]}},slotted:{type:Boolean,default:function(){return!1}},noLoginControls:{type:Boolean,default:function(){return!1}}},data:function(){return{navigation_open:!1}},methods:{toggle_navigation:function(){this.navigation_open=!this.navigation_open},close_navigation:function(){this.navigation_open=!1},logout:function(){this.axios.post("https://authentication.maximemoreillon.com/logout").then((function(){return location.reload()})).catch((function(t){return console.log(t)}))}},computed:{navigation_control_icon:function(){return this.navigation_open?"mdi-backburger":"mdi-menu"}}},l=c,u=(e("2e26"),e("2877")),m=Object(u["a"])(l,s,r,!1,null,null,null),p=m.exports,f={name:"app",components:{AppTemplate:p},methods:{sendCommand:function(t){this.$socket.client.emit("new_command",t)}},sockets:{connect:function(){console.log("[WS] connected")},disconnect:function(){console.log("[WS] connected")},request:function(t){this.$store.commit("request",t)},response:function(t){this.$store.commit("response",t)}}},d=f,_=(e("034f"),Object(u["a"])(d,o,a,!1,null,null,null)),v=_.exports,h=(e("7db0"),e("2f62"));i["a"].use(h["a"]);var g=new h["a"].Store({state:{clients:[]},mutations:{request:function(t,n){var e=t.clients.find((function(t){return t.username===n.username}));e?e.last_seen=n.last_seen:(n.history=[],t.clients.push(n))},response:function(t,n){var e=t.clients.find((function(t){return t.username===n.username}));e&&(e.history[e.history.length-1].response=n.response)}},actions:{},modules:{}}),b=e("f87c"),w=e("8055"),y=e.n(w),C=e("8c4f"),k=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"client_list"},t._l(t.$store.state.clients,(function(t,n){return e("Client",{key:n,attrs:{client:t}})})),1)},O=[],x=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"client",class:{los:t.time_difference>10},on:{click:function(n){return t.open_terminal_for_client()}}},[e("div",{},[t._v(" "+t._s(t.client.username)+" ")]),e("div",{},[t._v(" Î”t: "+t._s(t.time_difference)+" ")])])},j=[],$=(e("0d03"),{name:"Client",props:{client:Object},data:function(){return{time_difference:0}},mounted:function(){var t=this;setInterval((function(){t.time_difference=Math.round((new Date-new Date(t.client.last_seen))/1e3+17)}),1e3)},methods:{open_terminal_for_client:function(){this.$router.push({name:"terminal",params:{client:this.client}})}}}),S=$,M=(e("359b"),Object(u["a"])(S,x,j,!1,null,"290d002c",null)),P=M.exports,T={name:"ClientList",components:{Client:P}},E=T,N=Object(u["a"])(E,k,O,!1,null,null,null),D=N.exports,L=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"terminal_view"},[e("div",{staticClass:"target_info",on:{click:function(n){return t.open_terminal_for_client()}}},[e("div",{},[e("span",{staticClass:"mdi mdi-target"}),t._v(" "+t._s(t.client.username))]),e("div",{},[e("span",{staticClass:"mdi mdi-timer"}),t._v(" "+t._s(t.time_difference))])]),e("div",{ref:"terminal",staticClass:"terminal",on:{click:function(n){return t.focus_input()}}},t._l(t.client.history,(function(n,i){return e("div",{key:i},[e("div",{staticClass:"command"},[e("pre",[t._v("> "+t._s(n.command))])]),e("div",{staticClass:"output"},[e("pre",[t._v(t._s(n.response))])])])})),0),e("form",{staticClass:"input",on:{submit:function(n){return n.preventDefault(),t.sendCommand(t.client)}}},[e("span",[t._v(">")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_command,expression:"new_command"}],ref:"command_input",attrs:{type:"text"},domProps:{value:t.new_command},on:{input:function(n){n.target.composing||(t.new_command=n.target.value)}}}),e("input",{attrs:{type:"submit",value:"send"}})])])},A=[],q={name:"SingleClient",components:{},props:{client:Object},data:function(){return{time_difference:0,new_command:""}},mounted:function(){var t=this;setInterval((function(){t.time_difference=Math.round((new Date-new Date(t.client.last_seen))/1e3+17)}),1e3)},methods:{sendCommand:function(){var t=this;this.client.history.push({command:this.new_command,response:"waiting..."}),this.$socket.client.emit("new_command",{username:this.client.username,command:this.new_command}),setTimeout((function(){t.$refs.terminal.scrollTo({top:t.$refs.terminal.scrollHeight,left:0})}),100),this.new_command=""},focus_input:function(){this.$refs.command_input.focus()}}},I=q,B=(e("c9b3"),Object(u["a"])(I,L,A,!1,null,"b63ea5fc",null)),J=B.exports;i["a"].use(C["a"]);var R=[{path:"/",name:"client_list",component:D},{path:"/terminal",name:"terminal",component:J,props:!0}],W=new C["a"]({mode:"history",base:"/",routes:R}),H=W,z=(e("5363"),y()("http://172.16.98.151:18000"));i["a"].use(b["a"],z),i["a"].config.productionTip=!1,new i["a"]({store:g,router:H,render:function(t){return t(v)}}).$mount("#app")},"85ec":function(t,n,e){},b527:function(t,n,e){},c9b3:function(t,n,e){"use strict";var i=e("de46"),o=e.n(i);o.a},de46:function(t,n,e){}});
//# sourceMappingURL=app.fef39f6c.js.map